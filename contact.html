<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="description" content="company" />
    <meta name="author" content="qld" />
    <meta name="theme-color" content="#000000">
    <meta name="format-detection" content="telephone=no">
    
    <!-- Favicon-->
    <link rel="icon" type="image/x-icon" href="images/logo22.png" />

            <!-- Bootstrap Icons-->
            <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css" rel="stylesheet" />
            <!-- Google fonts-->
            <link href="https://fonts.googleapis.com/css?family=Merriweather+Sans:400,700" rel="stylesheet" />
            <link href="https://fonts.googleapis.com/css?family=Merriweather:400,300,300italic,400italic,700,700italic" rel="stylesheet" type="text/css" />
            <!-- SimpleLightbox plugin CSS-->
            <link href="https://cdnjs.cloudflare.com/ajax/libs/SimpleLightbox/2.1.0/simpleLightbox.min.css" rel="stylesheet" />
    <title>	Contact </title>
        <!-- Google tag (gtag.js) -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-D1HNW45YYW"></script>
        <script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
    
            gtag('config', 'G-D1HNW45YYW');
        </script>
        
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="style.css">

</head>
<body>
    <!-- Header -->
    <header>
         <!-- Navigation-->
        <nav class="navbar navbar-expand-lg navbar-light fixed-top py-3" id="mainNav">
            <div class="logo">
                <img src="images/logo22.png" alt="Company Logo">
            </div>
            <ul>
                <ul class="nav-links">
                    <li><a href="index.html">Home</a></li>
                    <li><a href="about.html">About Us</a></li>
                    <li><a href="index.html#services">Services</a></li>
                    <li><a href="contact.html">Contact</a></li>
                    <li><a href="join.html">Join Us</a></li>
                </ul>
                <button class="menu-toggle">‚ò∞</button>
            </ul>
        </nav>
    </header>
 
  
 <section id="contact-page">
        <div class="contact-wrapper">
    
            <!-- Contact Info Section -->
            <div class="contact-info">
                <h2>Get In Touch ..!!</h2>
                <p>We‚Äôd love to hear from you! Whether you have a question about features, pricing, or anything else, our team is ready to answer all your questions.</p>
                <p><strong>üìç Address:</strong>Fl√∂jelbergsgatan 8B - 43137 M√∂lndal</p>
                <p><strong>üìß Email:</strong> info@qld.se</p>
                <p><strong>üìû Phone:</strong> +46733783710</p>
            </div>

            <!-- Contact Form -->
            <div class="contact-container1">
                <h2>Contact Us</h2>
                <form action="mailto:your-info@qld.se" method="post" enctype="text/plain">
                    <input type="text" name="name" placeholder="Full Name" required>
                    <input type="phone" name="number" placeholder="Phone Number" required>
                    <input type="email" name="email" placeholder="Email Address" required>
                    <textarea name="message" placeholder="Write your message here" required></textarea>
                    <button type="submit">Send Message</button>
                </form>
            </div>

        </div>
    </section>
  <section id="order1">

 <!-- order section-->
 <div class="order">
    <h2>Order Now</h2>
    <form id="shipment-form" action="#" method="POST">
        <div class="form-group">
            <label for="size">Parcel Volume (cubic meters)</label>
            <input type="number" id="size" name="size" required>
        </div>
        <div class="form-group">
            <label for="weight">Weight (kg)</label>
            <input type="number" id="weight" name="weight" required>
        </div>
        <div class="form-group">
            <label for="length">Length (cm)</label>
            <input type="number" id="length" name="length" required>
        </div>
        <div class="form-group">
            <label for="width">Width (cm)</label>
            <input type="number" id="width" name="width" required>
        </div>
        <div class="form-group">
            <label for="height">Height (cm)</label>
            <input type="number" id="height" name="height" required>
        </div>

        <!-- Destination Input and Google Map -->
        <div class="form-group">
            <label for="destination">Destination (Choose from Map):</label>
            <input type="text" id="destination" name="destination" placeholder="Enter or select destination from map" required>
        </div>

        <div class="map-container" id="map"></div>

        <!-- Estimated Price Display -->
        <div class="price-display" id="price-display">
            Estimated Price: Will be calculated after entering data.
        </div>

        <!-- Payment Button (for demo purposes, here we simulate PayPal button) -->
        <div class="payment-button">
            <button type="button" onclick="simulatePayment()">Proceed to Payment</button>
        </div>

        <!-- Question: Individual or Company -->
        <div class="form-group">
            <label for="client-type">Are you an Individual or a Company?</label>
            <select id="client-type" name="client-type" required>
                <option value="individual">Individual</option>
                <option value="company">Company</option>
            </select>
        </div>

        <!-- Email for the company -->
        <div class="form-group">
            <label for="company-email">Company Email:</label>
            <input type="email" id="company-email" name="company-email" value="info@qld.se" readonly required>
        </div>

        <!-- WhatsApp contact -->
        <div class="contact-buttons">
            <a href="https://wa.me/+46733783710" target="_blank">Contact us on WhatsApp</a>
            <a href="mailto:info@qld.se">Send an Email</a>
        </div>
    </form>
</div>

<script>
    function initMap() {
        const location = { lat: 59.3293, lng: 18.0686 }; // ÿ•ÿ≠ÿØÿßÿ´Ÿäÿßÿ™ ÿ≥ÿ™ŸàŸÉŸáŸàŸÑŸÖ
        const map = new google.maps.Map(document.getElementById("map"), {
            zoom: 10,
            center: location,
        });
        const marker = new google.maps.Marker({
            position: location,
            map: map,
        });

        // ÿ™ŸÅÿßÿπŸÑ ÿßŸÑÿÆÿ±Ÿäÿ∑ÿ© ŸÑÿ™ÿ≠ÿØŸäÿØ ÿßŸÑŸàÿ¨Ÿáÿ©
        map.addListener('click', (e) => {
            const destinationInput = document.getElementById('destination');
            destinationInput.value = e.latLng.lat() + ', ' + e.latLng.lng();
            marker.setPosition(e.latLng);
        });
    }

    // ÿ™ÿ≠ŸÖŸäŸÑ ŸÖŸÉÿ™ÿ®ÿ© Google Maps
    window.onload = function() {
        const script = document.createElement('script');
        script.src = `https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY&callback=initMap`;
        script.async = true;
        document.body.appendChild(script);
    };

    // ÿØÿßŸÑÿ© ŸÑÿ≠ÿ≥ÿßÿ® ŸÇŸäŸÖÿ© ÿßŸÑÿ∑ŸÑÿ®
    function calculatePrice() {
        const size = parseFloat(document.getElementById('size').value) || 0;
        const weight = parseFloat(document.getElementById('weight').value) || 0;
        const length = parseFloat(document.getElementById('length').value) || 0;
        const width = parseFloat(document.getElementById('width').value) || 0;
        const height = parseFloat(document.getElementById('height').value) || 0;

        // ŸÖÿπÿßÿØŸÑÿ© ÿ≠ÿ≥ÿßÿ®Ÿäÿ© ÿ®ÿ≥Ÿäÿ∑ÿ© (ŸäŸÖŸÉŸÜ ÿ™ÿπÿØŸäŸÑŸáÿß ÿ≠ÿ≥ÿ® ÿßŸÑÿ≠ÿßÿ¨ÿ©)
        const price = (size * 10) + (weight * 5) + (length * width * height * 0.01);
        document.getElementById('price-display').innerText = `Estimated Price: $${price.toFixed(2)}`;
    }

    // ÿ™ŸÅÿπŸäŸÑ ÿ≠ÿ≥ÿßÿ® ÿßŸÑÿ≥ÿπÿ± ÿπŸÜÿØ ÿ™ÿ∫ŸäŸäÿ± ÿßŸÑŸÖÿØÿÆŸÑÿßÿ™
    document.querySelectorAll('.form-group input').forEach(input => {
        input.addEventListener('input', calculatePrice);
    });

    // ÿØÿßŸÑÿ© ŸÖÿ≠ÿßŸÉÿßÿ© ÿßŸÑÿØŸÅÿπ
    function simulatePayment() {
        alert('Payment simulation: Order placed successfully!');
    }
</script>

<!-- Section: Cost Estimator & Contact Combined -->
<section id="estimateSection6" class="py-5 bg-light">
  <div class="container">
    <h2 class="mb-4 text-center">Cost Estimator & Contact</h2>
    <div class="row">
      <!-- Left: Form and Results -->
      <div class="col-lg-5 mb-4">
        <form id="estimateForm6" action="https://formspree.io/f/xkgbwlvr" method="POST" class="bg-white p-4 rounded shadow-sm">
          <div class="mb-3">
            <label for="fullName6" class="form-label">Full Name <span class="text-danger">*</span></label>
            <input type="text" id="fullName6" name="FullName" class="form-control" required />
          </div>
          <div class="mb-3">
            <label for="email6" class="form-label">Email <span class="text-danger">*</span></label>
            <input type="email" id="email6" name="_replyto" class="form-control" required />
          </div>
          <div class="mb-3">
            <label for="phone6" class="form-label">Phone Number <span class="text-danger">*</span></label>
            <input type="tel" id="phone6" name="Phone" class="form-control" required />
          </div>
          <hr />
          <h5>Shipment Details</h5>
          <div class="mb-3">
            <label for="cargoType6" class="form-label">Cargo Type (Weight/Volume etc.) <span class="text-danger">*</span></label>
            <input type="text" id="cargoType6" name="CargoType" class="form-control" placeholder="e.g. 500kg, 2m¬≥" required />
          </div>
          <div class="mb-3">
            <label for="specialInstructions6" class="form-label">Special Instructions / Notes</label>
            <textarea id="specialInstructions6" name="SpecialInstructions" class="form-control" rows="3" placeholder="Optional"></textarea>
          </div>
          <hr />
          <h5>Route Information</h5>
          <div class="mb-3">
            <label>Start Point (Select on Map)</label>
            <input type="text" id="startPoint6" name="StartPoint" class="form-control" readonly required placeholder="Click on map to select start" />
          </div>
          <div class="mb-3">
            <label>End Point (Select on Map)</label>
            <input type="text" id="endPoint6" name="EndPoint" class="form-control" readonly required placeholder="Click on map to select end" />
          </div>
          <div class="mb-3">
            <label>Distance (km)</label>
            <input type="text" id="distance6" name="Distance" class="form-control" readonly />
          </div>
          <div class="mb-3">
            <label>Estimated Cost (SEK)</label>
            <input type="text" id="cost6" name="EstimatedCost" class="form-control fw-bold" readonly />
          </div>
          <button type="submit" class="btn btn-primary w-100">Submit Order</button>
        </form>

        <div id="formMessage6" class="mt-3 text-center"></div>

        <!-- Contact Buttons -->
        <div class="mt-4 d-flex justify-content-center gap-3">
          <a href="tel:+46700000000" class="btn btn-success"><i class="bi bi-telephone-fill"></i> Call Us</a>
          <a href="https://wa.me/46700000000" target="_blank" class="btn btn-success"><i class="bi bi-whatsapp"></i> WhatsApp</a>
        </div>
      </div>

      <!-- Right: Map -->
      <div class="col-lg-7">
        <div id="map6" style="height: 400px; border-radius: 8px; box-shadow: 0 0 8px rgba(0,0,0,0.1);"></div>
        <small class="text-muted">Click on the map to select Start and End points.</small>
      </div>
    </div>
  </div>

  <!-- Leaflet CSS & JS -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" 
    integrity="sha256-sA+gZ1D5Dfky9IcZlRAC5tWsjD3PbVQvEwQlZ+pru7w=" crossorigin=""/>
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" 
    integrity="sha256-o2jR7jwCFXmkyo0Py0CZr+y0m5U6XSxRsyRmAQu7LuI=" crossorigin=""></script>

  <!-- Leaflet Routing Machine -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet-routing-machine@3.2.12/dist/leaflet-routing-machine.css" />
  <script src="https://unpkg.com/leaflet-routing-machine@3.2.12/dist/leaflet-routing-machine.min.js"></script>

  <script>
    document.addEventListener("DOMContentLoaded", function() {
      // Initialize the map
      var map = L.map('map6').setView([59.3293, 18.0686], 10); // Centered on Stockholm, Sweden

      // Add OpenStreetMap tile layer
      L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
          attribution: '¬© OpenStreetMap contributors'
      }).addTo(map);

      // Variables to store markers
      var startMarker, endMarker, routeControl;

      // Function to update form fields with lat/lng
      function updatePointInputs() {
        if (startMarker) {
          document.getElementById('startPoint6').value = startMarker.getLatLng().lat.toFixed(5) + ', ' + startMarker.getLatLng().lng.toFixed(5);
        }
        if (endMarker) {
          document.getElementById('endPoint6').value = endMarker.getLatLng().lat.toFixed(5) + ', ' + endMarker.getLatLng().lng.toFixed(5);
        }
      }

      // Function to update distance and cost
      function updateDistanceAndCost(route) {
        if (!route || !route.summary) return;

        var distanceInMeters = route.summary.totalDistance;
        var distanceKm = (distanceInMeters / 1000).toFixed(2);
        document.getElementById('distance6').value = distanceKm;

        // **ÿ™ÿπÿØŸäŸÑ ŸáŸÜÿß ÿ≥ÿπÿ± ÿßŸÑŸÉŸäŸÑŸàŸÖÿ™ÿ± ÿ®ÿßŸÑŸÉÿ±ŸàŸÜÿß ÿßŸÑÿ≥ŸàŸäÿØŸäÿ© SEK ÿ≠ÿ≥ÿ® ÿ±ÿ∫ÿ®ÿ™ŸÉ**
        const pricePerKmSEK = 15; // <-- ÿπÿØŸÑ ÿßŸÑŸÇŸäŸÖÿ© ŸáŸÜÿß ŸÑÿ™ÿ∫ŸäŸäÿ± ÿßŸÑÿ≥ÿπÿ±

        var estimatedCost = (distanceKm * pricePerKmSEK).toFixed(2);
        document.getElementById('cost6').value = estimatedCost;
      }

      // On map click, add markers for start and end points
      var clickCount = 0;
      map.on('click', function(e) {
        if (clickCount === 0) {
          if (startMarker) map.removeLayer(startMarker);
          startMarker = L.marker(e.latlng, {draggable:true}).addTo(map).bindPopup('Start Point').openPopup();
          clickCount++;
        } else if (clickCount === 1) {
          if (endMarker) map.removeLayer(endMarker);
          endMarker = L.marker(e.latlng, {draggable:true}).addTo(map).bindPopup('End Point').openPopup();
          clickCount++;
          // Draw route when both points are selected
          if (routeControl) {
            map.removeControl(routeControl);
          }
          routeControl = L.Routing.control({
            waypoints: [
              startMarker.getLatLng(),
              endMarker.getLatLng()
            ],
            routeWhileDragging: true,
            draggableWaypoints: true,
            addWaypoints: false,
            showAlternatives: false,
            lineOptions: {
              styles: [{color: 'blue', opacity: 0.6, weight: 4}]
            },
            createMarker: function() { return null; } // Don't add extra markers
          }).addTo(map);

          routeControl.on('routesfound', function(e) {
            var route = e.routes[0];
            updateDistanceAndCost(route);
            updatePointInputs();
          });

          // Update fields if markers dragged
          startMarker.on('dragend', function() {
            routeControl.setWaypoints([startMarker.getLatLng(), endMarker.getLatLng()]);
            updatePointInputs();
          });
          endMarker.on('dragend', function() {
            routeControl.setWaypoints([startMarker.getLatLng(), endMarker.getLatLng()]);
            updatePointInputs();
          });
        } else {
          // Reset points on third click
          map.removeLayer(startMarker);
          map.removeLayer(endMarker);
          if (routeControl) map.removeControl(routeControl);
          startMarker = L.marker(e.latlng, {draggable:true}).addTo(map).bindPopup('Start Point').openPopup();
          endMarker = null;
          document.getElementById('startPoint6').value = '';
          document.getElementById('endPoint6').value = '';
          document.getElementById('distance6').value = '';
          document.getElementById('cost6').value = '';
          clickCount = 1;
        }
      });

      // On form submit, handle via fetch to Formspree + show message
      var form = document.getElementById('estimateForm6');
      var messageDiv = document.getElementById('formMessage6');
      form.addEventListener('submit', function(e) {
        e.preventDefault();

        // Basic validation: ensure distance and cost calculated
        if (!document.getElementById('distance6').value || !document.getElementById('cost6').value) {
          alert('Please select both Start and End points on the map to calculate cost.');
          return;
        }

        var formData = new FormData(form);
        fetch(form.action, {
          method: 'POST',
          body: formData,
          headers: { 'Accept': 'application/json' }
        }).then(function(response) {
          if (response.ok) {
            messageDiv.innerHTML = '<div class="alert alert-success">Thank you! Your order has been submitted.</div>';
            form.reset();
            // Clear map markers and route
            if (startMarker) map.removeLayer(startMarker);
            if (endMarker) map.removeLayer(endMarker);
            if (routeControl) map.removeControl(routeControl);
            document.getElementById('distance6').value = '';
            document.getElementById('cost6').value = '';
            document.getElementById('startPoint6').value = '';
            document.getElementById('endPoint6').value = '';
            clickCount = 0;
          } else {
            response.json().then(function(data) {
              if (Object.hasOwn(data, 'errors')) {
                messageDiv.innerHTML = '<div class="alert alert-danger">'+ data["errors"].map(error => error.message).join(", ") +'</div>';
              } else {
                messageDiv.innerHTML = '<div class="alert alert-danger">Oops! There was a problem submitting your form.</div>';
              }
            });
          }
        }).catch(function(error) {
          messageDiv.innerHTML = '<div class="alert alert-danger">Oops! There was a problem submitting your form.</div>';
        });
      });
    });
  </script>
</section>


    <!-- Footer -->
    <footer>
        <div class="footer-content">

              <!--title -->
              <div>
                <h2> Your best choice ..!</h2>
            </div>
            <!-- icons-->
            <div class="footer-icons">
                <a href="https://wa.me/+46 733783710" target="_blank" class="icon-link">
                    <i class="fab fa-whatsapp"></i>
                </a>
                <a href="https://www.facebook.com/people/QLD-AB/61567075727558/" target="_blank" class="icon-link">
                    <i class="fab fa-facebook-f"></i>
                </a>
                <a href="https://www.instagram.com/qld2024?igsh=amc1OXR1NzkwaXA3" target="_blank" class="icon-link">
                    <i class="fab fa-instagram"></i>
                </a>
                <a href="tel:+4673-3783710" class="icon-link">
                    <i class="fas fa-phone"></i>
                </a>
                <a href="mailto:nfo@qld.se" class="icon-link">
                    <i class="fas fa-envelope"></i>
                </a>
            </div>
    
          
    
            <!-- information-->
            <div class="footer-info">
                <p><i class="fas fa-map-marker-alt"></i> Fl√∂jelbergsgatan 8B - 43137 M√∂lndal</p>
                <p><i class="fas fa-phone"></i> +4673-3783710</p>
            </div>
    
            <!-- @-->
            <div>
                <p>¬© 2025 QLD - All Rights Reserved</p>
            </div>
        </div>
    </footer>
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

    <script src="script.js"></script>
</body>
</html>